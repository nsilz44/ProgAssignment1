<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Class: map</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: map</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>map<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><code>map</code> serves as a template for the visualisation. It contains all the attributes and methods required for the visualisation.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="map"><span class="type-signature"></span>new map<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Defines the attributes of class map
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>this.mapData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Stores the data of the TopoJSON file of the chosen geographical area parsed by d3.json()</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.active</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Stores the area that has been clicked on by the user</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.svg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Stores the svg element that displays the visualisation</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.g</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Stores the group element that groups the path elements of the visualisation inside the svg element</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.colours</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Stores the colours used to represent candidate/party on the map</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.projection</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Defines which <a href="https://github.com/d3/d3-geo-projection">d3 projection</a> to use</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.path</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Stores a set of functions that convert point data in the TopoJSON file path elements using <a href="https://github.com/d3/d3-geo#path_projection">d3-geo projection</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.zoom</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Handles an event when user tries to zoom</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.electionData</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last">Stores the data of the chosen election's csv file parsed by d3.csv()</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.scale</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Defines the scale of the visualisation when it's rendered (0.98 by default)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.width</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Width of the svg element of the map</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.height</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Height of the svg element of the map</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.name1</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Stores the name of the sub-attribute that stores data about constituencies in "objects" attribute of the TopoJSON file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.name2</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Stores the name of the sub-attribute that stores the name of the constituency in "properties" attribute of the TopoJSON file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.constituency</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Stores the name of the column that contains the constituencies in the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.candidate</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Stores the name of the column that contains the candidates in the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>this.party</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Stores the name of the column that contains the party names in the dataset</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="clicked"><span class="type-signature"></span>clicked<span class="signature">(d)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Gets the <code>id</code> of <code>d</code> and edits HTML DOM style properties to highlight that path element and
display information about that constituency. If the same path has been clicked on twice the path style is set back to default
and the information is hidden.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>d</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">path element that has been clicked on by the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line189">line 189</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="displayInfo"><span class="type-signature"></span>displayInfo<span class="signature">(d)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Displays the results of the selected constituency using <code>d3.select()</code>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>d</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Name of the constituency that has been clicked on</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line228">line 228</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="displayKey"><span class="type-signature"></span>displayKey<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a key to the map
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line253">line 253</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="draw"><span class="type-signature"></span>draw<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Displays the visualisation by setting the given scale, appending path elements created using the parsed data of the TopoJSON file and filling it with appropriate colours
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="fillColour"><span class="type-signature"></span>fillColour<span class="signature">(d)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This function iterates through names of all the constituencies in <code>map.electionData</code> checking if it matches
with the constituency d3 is currently iterating through then return the colour of constituency stored in <code>map.colours</code>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>d</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">Current sub-attribute of objects of the parsed TopoJSON file D3 is currently iterating through while entering data.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line290">line 290</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    hex value of the colour the constituency should be coloured with as a string. "#ffffff" is returned by default if
a colour code for the current constituency can't be found<br><br>
</div>



    





        
            

    

    
    <h4 class="name" id="getData"><span class="type-signature"></span>getData<span class="signature">(mapPath, dataPath, colours)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    parses the data of the file located in the provided locations and calls the <code>map.ready</code> once done.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>mapPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the topojson file of the chosen geographical area</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>colours</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the json file that defines the colours the party/candidate will be represented by on the map</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">(mapPath, dataPath, colours, elementID, name1, name2, constituency, candidate, party, scale)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p style="font-weight: bold">This is the only method you need to call and provide parameters to in order to initiate the visualisation after creating an instance of map</p>

Performs following actions:
<ul>
<li>Assigns the arguments to map's attributes</li>
<li>Sets width, height of the visualisation to that of the element it will be appended to </li>
<li>Appends a svg and g element to the selected element</li>
<li>Calls <code>map.getData</code> to parse given data files </li>
<li>Calls <code>map.getData</code> to parse data from input files</li>
<li>Calls <code>map.zoom</code> to handle a zoom event</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>mapPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the topojson file of the chosen geographical area</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>colours</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the json file that defines the colours the party/candidate will be represented by on the map</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>elementID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the element that the svg of visualisation will be appended to</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name1</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the sub-attribute that stores data about constituencies in "objects" attribute of the TopoJSON file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name2</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the sub-attribute that stores the name of the constituency in "properties" attribute of the TopoJSON file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constituency</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the column that contains the constituencies in the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>candidate</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the column that contains the candidates in the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>party</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">name of the column that contains the party in the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scale</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">scale of the visualisation</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line91">line 91</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="ready"><span class="type-signature"></span>ready<span class="signature">(error, mapData, electionData, colours)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns the error occurred while parsing the input files or initiates the visualisation if no errors occurred
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the TopoJSON file of the chosen geographical area</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mapData</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the dataset</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>electionData</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">file path of the json file that defines the colours the party/candidate will be represented by on the map</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>colours</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">ID of the element that the svg of visualisation will be appended to</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line144">line 144</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removePrevious"><span class="type-signature"></span>removePrevious<span class="signature">(element)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes specified element <br><br> If we are using the same element to visualise more than one map, this function can be used
to remove the previous map. This is required because d3 appends an svg element to the selected element as oppose to overriding it
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">specifies the element to be removed</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="resetActive"><span class="type-signature"></span>resetActive<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Performs following actions on <code>this.active</code>:
<ul>
 <li> Sets the styling back to default</li>
 <li> Sets this.active to null again as the current path is no longer active<\li>
</ul>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="zoomed"><span class="type-signature"></span>zoomed<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Handles a zoom event using <a href=https://github.com/d3/d3-zoom#transform_translate><code>d3.event.transform</code></a>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="script.js.html">script.js</a>, <a href="script.js.html#line303">line 303</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="map.html">map</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Jan 14 2020 23:47:12 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>